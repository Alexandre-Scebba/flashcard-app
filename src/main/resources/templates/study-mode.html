<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Study Mode</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .card-flip {
      position: relative;
      width: 100%;
      height: 200px;
      perspective: 1000px;
    }

    .card-flip-inner {
      position: relative;
      width: 100%;
      height: 100%;
      transition: transform 0.6s;
      transform-style: preserve-3d;
    }

    .card-front, .card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
    }

    .card-back {
      transform: rotateY(180deg);
    }
  </style>
</head>
<body>

<div class="container mt-5">
  <h1 class="text-center mb-4" th:text="${deck.name} + ' Study Mode'">Deck Name</h1>

  <!-- Card Flip Container -->
  <div class="card-flip" id="flashcard">
    <div class="card-flip-inner" id="flipCard">
      <!-- Front Side of the Card -->
      <div class="card-front bg-light p-4 text-center">
        <h4 id="card-front-content">Front Content</h4>
      </div>
      <!-- Back Side of the Card -->
      <div class="card-back bg-light p-4 text-center">
        <h4 id="card-back-content">Back Content</h4>
      </div>
    </div>
  </div>

  <!-- Flip Button -->
  <div class="text-center mt-4">
    <button class="btn btn-primary" id="flipButton">Flip Card</button>
  </div>

  <!-- Navigation Buttons -->
  <div class="d-flex justify-content-between mt-4">
    <button class="btn btn-secondary" id="previousCard">Previous</button>
    <button class="btn btn-secondary" id="nextCard">Next</button>
  </div>
</div>

<!-- JS for flipping and navigation -->
<script>
  let currentIndex = 0;
  let isFlipped = false;

  const flashcards = /*[[${flashcards}]]*/ [[${flashcards}]]; // Thymeleaf'ten gelen flashcard verisi
  const totalFlashcards = flashcards.length;

  function showFlashcard(index) {
    const frontContent = document.getElementById('card-front-content');
    const backContent = document.getElementById('card-back-content');

    // Kartın ön ve arka yüzündeki içerikleri güncelle
    frontContent.textContent = flashcards[index].frontContent;
    backContent.textContent = flashcards[index].backContent;

    // Kartı her yeni flashcard gösterildiğinde ön tarafa döndür
    document.getElementById('flipCard').style.transform = 'rotateY(0deg)';
    isFlipped = false;
  }

  // Kartı döndür
  document.getElementById('flipButton').addEventListener('click', () => {
    const flipCard = document.getElementById('flipCard');
    if (isFlipped) {
      flipCard.style.transform = 'rotateY(0deg)';
    } else {
      flipCard.style.transform = 'rotateY(180deg)';
    }
    isFlipped = !isFlipped;
  });

  // Önceki karta git
  document.getElementById('previousCard').addEventListener('click', () => {
    currentIndex = (currentIndex === 0) ? totalFlashcards - 1 : currentIndex - 1;
    showFlashcard(currentIndex);
  });

  // Sonraki karta git
  document.getElementById('nextCard').addEventListener('click', () => {
    currentIndex = (currentIndex === totalFlashcards - 1) ? 0 : currentIndex + 1;
    showFlashcard(currentIndex);
  });

  // İlk kartın gösterilmesi
  showFlashcard(currentIndex);
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
